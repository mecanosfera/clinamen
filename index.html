<!DOCTYPE html>
<html>
<head>
<title>clinamen</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<link href="https://fonts.googleapis.com/css?family=Ubuntu+Condensed" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
	<link type="text/css" rel="stylesheet" href="css/global.css" />
	<link type="text/css" rel="stylesheet" href="css/simulation.css" />
	<link type="text/css" rel="stylesheet" href="css/editor.css" />
	<link type="text/css" rel="stylesheet" href="css/entitymenu.css" />
	<script type="text/javascript" src="lib/jquery-3.1.1.min.js"></script>
	<script type="text/javascript" src="lib/jquery-ui/jquery-ui.min.js"></script>
	<script type="text/javascript" src="lib/raphael.min.js"></script>
	<script type="text/javascript" src="source/core/functions.js"></script>
	<script type="text/javascript" src="source/core/entity.js"></script>
	<script type="text/javascript" src="source/core/behavior/node.js"></script>
	<script type="text/javascript" src="source/core/behavior/decorator.js"></script>
	<script type="text/javascript" src="source/core/behavior/action.js"></script>
	<script type="text/javascript" src="source/core/behavior/iagent.js"></script>
	<script type="text/javascript" src="source/editor/editor.js"></script>
	<script type="text/javascript" src="source/simulation/world.js"></script>
	<script type="text/javascript" src="source/simulation/agent.js"></script>
	<script type="text/javascript" src="source/ui/ui.js"></script>
	<script type="text/javascript" src="source/ui/ui_editor.js"></script>
	<script type="text/javascript" src="source/ui/ui_simulation.js"></script>


</head>

<body>
	<main>
		<nav id="top">
			<a>clinamen</a>
			<div id="status">[stopped]</div>
			<div id="controls">
					<a id="stop"></a>
					<a id="play"></a>
					<a id="pause"></a>
			</div>
		</nav>

		<!-- SIMULATION -->
		<section id="simulation">
			<canvas id="world_grid"></canvas>
		</section>

		<!-- EDITOR -->
		<section id="editor">

			<!-- START EDITOR -->
			<div id="editor_main_start" class="editor_main">
				<ul id="menu_start_editor">
					<li id="bt_criar_mundo">Criar Mundo</li>
					<li id="bt_abrir_mundo">Abrir Mundo</li>
					<li id="bt_criar_mundo">Criar Agente</li>
					<li id="bt_abrir_mundo">Abrir Agente</li>
					<li id="bt_criar_mundo">Criar Comportamento</li>
					<li id="bt_abrir_mundo">Abrir Comportamento</li>
				</ul>
			</div>

			<!-- WORLD -->
			<div id="editor_main_edit_world" class="editor_main">
				<div id="editor_info_world">
					<label>mundo: </label><span id="editor_world_name"></span>
					<label>tamanho: </label><span id="editor_world_size"></span>
				</div>
				<canvas id="editor_world_grid"></canvas>
			</div>

			<!-- TREE -->
			<div id="editor_main_edit_tree" class="editor_main">
				<div id="editor_info_tree">
					<label>comportamento: </label><span id="editor_tree_name"></span>
				</div>
				<ul id="editor_tree_edit"></ul>
			</div>



			<!-- AGENT -->
			<div id="editor_entity">
					<div id="editor_entity_header">
						<span id="editor_entity_type_icon" class="agent"></span><label id="editor_entity_type"></label>:<span id="editor_entity_name"></span> [<a href="#" id="editor_entity_parent"></a>] <a href="#" id="editor_entity_edit">e</a>
					</div>

					<!-- AGENT -->
					<div id="editor_agent">
						<div id="editor_agent_info">
							<ul id="editor_agent_world_fields">
								<li><label>posição:<label><span id="editor_agent_position"></span></li>
							</ul>
							<label>propriedades</label>
							<ul id="editor_agent_properties_fields">
								<!--li><input type="text" value="nome" id="editor_agent_properties_add_name" /> : <input type="text" value="valor" id="editor_agent_properties_add_value" /> <a id="editor_agent_properties_add" href="#">+</a></li>
								 <li><label></label></li> -->
							</ul>
							<label>comportamentos</label>
							<div id="editor_agent_tree_fields">
								<ul id="editor_agent_tree"></ul>
							</div>
						</div>
					</div>

					<!-- EMPTY CELL -->
					<div id="editor_empty_cell">
						<ul id="editor_empty_cell_info">
							<li><label>mundo:</label> <span id="editor_empty_cell_world"></span></li>
							<li><label>posição:</label> <span id="editor_empty_cell_position"></span></li>
						</ul>
						<ul id="editor_empty_cell_agent">
							<li><a href="#" id="editor_empty_cell_agent_new">novo agente</a></li>
							<li>
								<a href="#" id="editor_empty_cell_agent_add">adicionar agente</a>
								<select id="editor_empty_cell_agent_add_select"></select>
							</li>
						</ul>
					</div>

					<!-- TREE -->
					<div id="editor_tree"></div>
			</div>

			<!-- SIDE MENU -->
			<nav id="library">
				<h3>biblioteca</h3>
				<ul id="library_list"></ul>
			</nav>
		</section>

	</main>

<script type="text/javascript">
	var ratio = parseInt(window.innerWidth-250/(window.innerHeight-40));
	//var uui = new UI({X:20*ratio,Y:20});

	var ed_ui = new EditorUI({editor:new Editor({})});
	ed_ui.start();


	/*var ag = new Agent({world: new World({})});
	ag.addTree(new Selector({
		children: [
			new Selector({
				children:[
					new Condition({
						condition:["==",{type:"self",prop:"hp"},35],
						child: new Action({
							target:"self",
							act:"teste"
						})
					}),
					new Action({
						target:"self",
						act: "heal"
					})
				]
			}),
			new Action({
				target:"self",
				act: "heal"
			})
		]
	}));*/

	//alert(ag.tree.type);

	//ag.hp=34;


	//ag.tree.run();

</script>

</body>
</html>
